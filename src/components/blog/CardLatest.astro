---
import type { BlogPost } from "../../../utils/types";
import { Image } from "@astrojs/image/components";

interface Props {
    blogPost: BlogPost;
}

const { blogPost } = Astro.props;

const cssProps = {
    background: "url(" + blogPost.image + ") center",
    "background-size": "cover",
};
---

<div
    class={ (blogPost.dark_background === true
        ? "text-white"
        : "text-black") +
          " relative block scale-100 transform rounded-lg bg-cover bg-center p-5 transition-all duration-300 hover:scale-95"}
    style={cssProps}
>
    <div class="h-52"></div>
    <h2 class="mb-3 pr-5 text-2xl leading-tight md:text-4xl">
        {blogPost.title}
    </h2>
    <div class="absolute top-0 right-0 -mt-3 mr-3">
        <div class="badge badge-accent py-1 pl-2 pr-3 text-xs leading-none">
            <span class="uppercase">{blogPost.category}</span>
        </div>
    </div>
    <div class="text-md flex w-full items-center">
        <div class="flex flex-1 items-center">
            <Image
                class="mr-3 h-8 w-8 rounded-full object-cover"
                src={blogPost.author.avatar}
                alt={blogPost.author.name}
                format='webp'
                height="64"
                loading="lazy"
                quality={50}
                width="64"
            />
            <div class="flex flex-col">
                <span>{blogPost.author.name}</span>
                <span>{blogPost.date} ãƒ»{blogPost.timeToRead}</span>
            </div>
        </div>
    </div>
</div>
