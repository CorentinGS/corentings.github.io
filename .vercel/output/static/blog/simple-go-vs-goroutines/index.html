<!DOCTYPE html><html data-critters-container lang=en><head><script src=https://umami.memnix.app/script.js async data-website-id=fca9df7f-70a1-466a-9fc8-d745bb4c33f0></script><script>null===localStorage.getItem("theme")?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme",localStorage.getItem("theme"))</script><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta content="Astro v3.0.2" name=generator><link href=/favicon.ico rel=icon><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content="This is a simple example of why goroutines might be overkill for some tasks and less efficient than a simple function." name=description><meta content="Simple Function vs Goroutines" name=og:title><meta content=CorentinGS name=og:site_name><meta content="Corentin Giaufer--Saubert" name=article:author><meta content="Jan. 12, 2023" name=article:published_time><meta content="This is a simple example of why goroutines might be overkill for some tasks and less efficient than a simple function." name=og:description><meta content=article name=og:type><meta content=https://corentings.dev name=og:url><meta content="https://images.unsplash.com/photo-1622547748225-3fc4abd2cca0?ixlib=rb-4.0.3&#38;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&#38;auto=format&#38;fit=crop&#38;w=1632&#38;q=70" name=og:image><meta content=summary_large_image name=twitter:card><meta content=https://corentings.dev name=twitter:url><meta content=GSCorentinDev name=twitter:creator><meta content="Simple Function vs Goroutines" name=twitter:title><meta content="This is a simple example of why goroutines might be overkill for some tasks and less efficient than a simple function." name=twitter:description><meta content="https://images.unsplash.com/photo-1622547748225-3fc4abd2cca0?ixlib=rb-4.0.3&#38;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&#38;auto=format&#38;fit=crop&#38;w=1632&#38;q=70" name=twitter:image><link href=https://corentings.dev/blog/simple-go-vs-goroutines rel=alternate hreflang=en><link href=https://corentings.dev/fr/blog/simple-go-vs-goroutines rel=alternate hreflang=fr><link href=https://corentings.dev/de/blog/simple-go-vs-goroutines rel=alternate hreflang=de><title>Goroutine vs Simple function</title><style>*,:after,:before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:after,:before{--tw-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Syne,Nunito,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}strong{font-weight:bolder}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}input,select{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}select{text-transform:none}h1,h2,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}input::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder{opacity:1;color:#9ca3af}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0;padding:.5rem .75rem;font-size:1rem;line-height:1.5rem;--tw-shadow:0 0 #0000}select:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);border-color:#2563eb}input::-moz-placeholder{color:#6b7280;opacity:1}input::placeholder{color:#6b7280;opacity:1}select{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#2563eb;background-color:#fff;border-color:#6b7280;border-width:1px;--tw-shadow:0 0 #0000}[type=checkbox]{border-radius:0}[type=checkbox]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,);--tw-ring-offset-width:2px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}[type=checkbox]:checked{border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e")}[type=checkbox]:checked:focus,[type=checkbox]:checked:hover{border-color:transparent;background-color:currentColor}[type=checkbox]:indeterminate{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8h8'/%3e%3c/svg%3e");border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}[type=checkbox]:indeterminate:focus,[type=checkbox]:indeterminate:hover{border-color:transparent;background-color:currentColor}:root{background-color:hsl(var(--b1) / var(--tw-bg-opacity,1));color:hsl(var(--bc) / var(--tw-text-opacity,1))}html{-webkit-tap-highlight-color:transparent}:root{--p:195 26% 30%;--pf:195 26% 23%;--sf:15 25% 27%;--af:37 90% 44%;--nf:240 7% 20%;--b3:0 0% 88%;--pc:197 11% 85%;--sc:15 16% 86%;--ac:33 52% 12%;--nc:241 3% 84%;--inc:283 32% 14%;--suc:157 22% 14%;--wac:47 40% 13%;--erc:2 100% 93%;--rounded-box:1rem;--rounded-badge:1.9rem;--animation-btn:.25s;--animation-input:.2s;--btn-text-case:uppercase;--btn-focus-scale:.95;--border-btn:1px;--tab-border:1px;--tab-radius:.5rem;--s:15 25% 34%;--a:37 90% 51%;--n:240 7% 27%;--b2:0 0% 95%;--b1:0 0% 99%;--in:282 80% 63%;--su:160 73% 68%;--wa:50 91% 60%;--er:351 79% 57%;--bc:0 0% 20%;--rounded-btn:1.9rem}@media (prefers-color-scheme:dark){:root{--p:177 52% 59%;--pf:177 52% 52%;--sf:15 25% 27%;--af:37 90% 44%;--nf:240 7% 20%;--b3:0 0% 3%;--pc:176 22% 13%;--sc:15 16% 86%;--ac:33 52% 12%;--nc:241 3% 84%;--inc:283 32% 14%;--suc:157 22% 14%;--wac:47 40% 13%;--erc:2 100% 93%;--rounded-box:1rem;--rounded-badge:1.9rem;--animation-btn:.25s;--animation-input:.2s;--btn-text-case:uppercase;--btn-focus-scale:.95;--border-btn:1px;--tab-border:1px;--tab-radius:.5rem;--s:15 25% 34%;--a:37 90% 51%;--n:240 7% 27%;--b1:240 3% 11%;--b2:0 0% 10%;--in:282 80% 63%;--su:160 73% 68%;--wa:50 91% 60%;--er:351 79% 57%;--bc:240 24% 96%;--rounded-btn:1.9rem}}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.badge{display:inline-flex;align-items:center;justify-content:center;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;height:1.25rem;font-size:.875rem;line-height:1.25rem;width:-moz-fit-content;width:fit-content;padding-left:.563rem;padding-right:.563rem;border-width:1px;--tw-border-opacity:1;border-color:hsl(var(--b2) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));border-radius:var(--rounded-badge,1.9rem)}@media (hover:hover){.menu li>:not(ul):not(.menu-title):not(details):active{--tw-bg-opacity:1;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--nc) / var(--tw-text-opacity))}}.btn{display:inline-flex;flex-shrink:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-wrap:wrap;align-items:center;justify-content:center;border-color:transparent;border-color:hsl(var(--b2) / var(--tw-border-opacity));text-align:center;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-radius:var(--rounded-btn,.5rem);height:3rem;padding-left:1rem;padding-right:1rem;min-height:3rem;font-size:.875rem;line-height:1em;gap:.5rem;font-weight:600;text-decoration-line:none;border-width:var(--border-btn,1px);animation:button-pop var(--animation-btn,.25s) ease-out;text-transform:var(--btn-text-case,uppercase);--tw-border-opacity:1;--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline-color:hsl(var(--bc) / 1)}.btn:disabled{pointer-events:none}@media (hover:hover){.btn:hover{--tw-border-opacity:1;border-color:hsl(var(--b3) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b3) / var(--tw-bg-opacity))}.btn-ghost:hover{--tw-border-opacity:0;background-color:hsl(var(--bc) / var(--tw-bg-opacity));--tw-bg-opacity:.2}.btn:disabled:hover{--tw-border-opacity:0;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-bg-opacity:.2;color:hsl(var(--bc) / var(--tw-text-opacity));--tw-text-opacity:.2}:where(.menu li:not(.menu-title):not(.disabled) > :not(ul):not(details):not(.menu-title)):not(.active):hover{cursor:pointer;background-color:hsl(var(--bc) / .1);--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px}}.menu{display:flex;flex-direction:column;flex-wrap:wrap;font-size:.875rem;line-height:1.25rem;padding:.5rem}.menu :where(li:not(.menu-title) > :not(ul):not(details):not(.menu-title)){display:grid;grid-auto-flow:column;align-content:flex-start;align-items:center;gap:.5rem;grid-auto-columns:minmax(auto,max-content) auto max-content;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where(.menu li){position:relative;display:flex;flex-shrink:0;flex-direction:column;flex-wrap:wrap;align-items:stretch}.modal{pointer-events:none;position:fixed;inset:0;margin:0;display:grid;height:100%;max-height:none;width:100%;max-width:none;justify-items:center;padding:0;opacity:0;overscroll-behavior:contain;z-index:999;background-color:transparent;color:inherit;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);transition-property:transform,opacity,visibility;overflow-y:hidden}:where(.modal){align-items:center}.modal-box{max-height:calc(100vh - 5em);grid-column-start:1;grid-row-start:1;width:91.666667%;max-width:32rem;--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));padding:1.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem);border-bottom-left-radius:var(--rounded-box,1rem);border-bottom-right-radius:var(--rounded-box,1rem);box-shadow:#00000040 0 25px 50px -12px;overflow-y:auto;overscroll-behavior:contain}.modal-toggle:checked+.modal,.modal:target{pointer-events:auto;visibility:visible;opacity:1}.modal-toggle{position:fixed;height:0;width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0}:root:has(:is(.modal-open,.modal:target,.modal-toggle:checked + .modal,.modal[open])){overflow:hidden}.navbar{display:flex;align-items:center;padding:var(--navbar-padding,.5rem);min-height:4rem;width:100%}:where(.navbar > *){display:inline-flex;align-items:center}.navbar-start{width:50%;justify-content:flex-start}.navbar-end{width:50%;justify-content:flex-end}.select{display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:3rem;padding-left:1rem;padding-right:2.5rem;font-size:.875rem;line-height:1.25rem;line-height:2;min-height:3rem;border-width:1px;border-color:hsl(var(--bc) / var(--tw-border-opacity));--tw-border-opacity:0;--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));font-weight:600;border-radius:var(--rounded-btn,.5rem);background-image:linear-gradient(45deg,transparent 50%,currentColor 50%),linear-gradient(135deg,currentColor 50%,transparent 50%);background-position:calc(100% - 20px) calc(1px + 50%),calc(100% - 16px) calc(1px + 50%);background-size:4px 4px,4px 4px;background-repeat:no-repeat}.badge-secondary{--tw-border-opacity:1;border-color:hsl(var(--s) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--s) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--sc) / var(--tw-text-opacity))}.btn:active:focus,.btn:active:hover{animation:button-pop 0s ease-out;transform:scale(var(--btn-focus-scale,.97))}.btn:focus-visible{outline-style:solid;outline-width:2px;outline-offset:2px}.btn-ghost{border-width:1px;border-color:transparent;background-color:transparent;color:currentColor;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);outline-color:currentColor}.btn:disabled{--tw-border-opacity:0;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-bg-opacity:.2;color:hsl(var(--bc) / var(--tw-text-opacity));--tw-text-opacity:.2}@keyframes button-pop{0%{transform:scale(var(--btn-focus-scale,.98))}40%{transform:scale(1.02)}to{transform:scale(1)}}:where(.menu li:empty){background-color:hsl(var(--bc) / .1);margin:.5rem 1rem;height:1px}.menu :where(li:not(.menu-title) > :not(ul):not(details):not(.menu-title)){padding:.5rem 1rem;text-align:left;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-radius:var(--rounded-btn,.5rem);text-wrap:balance}:where(.menu li:not(.menu-title):not(.disabled) > :not(ul):not(details):not(.menu-title)):not(summary):not(.active):focus{cursor:pointer;background-color:hsl(var(--bc) / .1);--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px}.menu li>:not(ul):not(.menu-title):not(details):active{--tw-bg-opacity:1;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--nc) / var(--tw-text-opacity))}.modal::backdrop,.modal:not(dialog:not(.modal-open)){background-color:#0000004d;animation:modal-pop .2s ease-out}.modal-toggle:checked+.modal .modal-box,.modal:target .modal-box{--tw-translate-y:0px;--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes modal-pop{0%{opacity:0}}.select-bordered{--tw-border-opacity:.2}.select:focus{outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:hsl(var(--bc) / .2)}.select-secondary{--tw-border-opacity:1;border-color:hsl(var(--s) / var(--tw-border-opacity))}.select-secondary:focus{outline-color:hsl(var(--s) / 1)}.select:disabled{cursor:not-allowed;--tw-border-opacity:1;border-color:hsl(var(--b2) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity));--tw-text-opacity:.2}.select:disabled::-moz-placeholder{color:hsl(var(--bc) / var(--tw-placeholder-opacity));--tw-placeholder-opacity:.2}.select:disabled::placeholder{color:hsl(var(--bc) / var(--tw-placeholder-opacity));--tw-placeholder-opacity:.2}.menu-horizontal{display:inline-flex;flex-direction:row}.modal-bottom{place-items:end}.select-md{height:3rem;padding-left:1rem;padding-right:2.5rem;font-size:.875rem;line-height:1.25rem;line-height:2;min-height:3rem}.modal-bottom :where(.modal-box){width:100%;max-width:none;--tw-translate-y:2.5rem;--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem)}.absolute{position:absolute}.relative{position:relative}.bottom-0{bottom:0}.left-0{left:0}.left-1{left:.25rem}.top-0{top:0}.top-\[0\.5rem\]{top:.5rem}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mr-2{margin-right:.5rem}.mt-12{margin-top:3rem}.mt-3{margin-top:.75rem}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:2.5rem}.h-6{height:1.5rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-6{width:1.5rem}.w-80{width:20rem}.w-full{width:100%}.max-w-screen-lg{max-width:1024px}.max-w-xs{max-width:20rem}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.overflow-y-auto{overflow-y:auto}.rounded-full{border-radius:9999px}.bg-base-100{--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity))}.bg-base-200{--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity))}.stroke-current{stroke:currentColor}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-4{padding:1rem}.p-5{padding:1.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.uppercase{text-transform:uppercase}.normal-case{text-transform:none}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.text-accent{--tw-text-opacity:1;color:hsl(var(--a) / var(--tw-text-opacity))}.text-base-content{--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-primary{--tw-text-opacity:1;color:hsl(var(--p) / var(--tw-text-opacity))}.underline{text-decoration-line:underline}@media (min-width:640px){.sm\:modal-middle{place-items:center}.sm\:modal-middle :where(.modal-box){width:91.666667%;max-width:32rem;--tw-translate-y:0px;--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem);border-bottom-left-radius:var(--rounded-box,1rem);border-bottom-right-radius:var(--rounded-box,1rem)}}.hover\:text-accent:hover{--tw-text-opacity:1;color:hsl(var(--a) / var(--tw-text-opacity))}@media (min-width:768px){.md\:mb-0{margin-bottom:0}.md\:text-2xl{font-size:1.5rem;line-height:2rem}}@media (min-width:1024px){.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:px-0{padding-left:0;padding-right:0}.lg\:text-3xl{font-size:1.875rem;line-height:2.25rem}}*,:after,:before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:after,:before{--tw-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Syne,Nunito,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}strong{font-weight:bolder}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}input,select{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}select{text-transform:none}h1,h2,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}input::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder{opacity:1;color:#9ca3af}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0;padding:.5rem .75rem;font-size:1rem;line-height:1.5rem;--tw-shadow:0 0 #0000}select:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);border-color:#2563eb}input::-moz-placeholder{color:#6b7280;opacity:1}input::placeholder{color:#6b7280;opacity:1}select{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#2563eb;background-color:#fff;border-color:#6b7280;border-width:1px;--tw-shadow:0 0 #0000}[type=checkbox]{border-radius:0}[type=checkbox]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,);--tw-ring-offset-width:2px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}[type=checkbox]:checked{border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e")}[type=checkbox]:checked:focus,[type=checkbox]:checked:hover{border-color:transparent;background-color:currentColor}[type=checkbox]:indeterminate{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8h8'/%3e%3c/svg%3e");border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}[type=checkbox]:indeterminate:focus,[type=checkbox]:indeterminate:hover{border-color:transparent;background-color:currentColor}:root{background-color:hsl(var(--b1) / var(--tw-bg-opacity,1));color:hsl(var(--bc) / var(--tw-text-opacity,1))}html{-webkit-tap-highlight-color:transparent}:root{--p:195 26% 30%;--pf:195 26% 23%;--sf:15 25% 27%;--af:37 90% 44%;--nf:240 7% 20%;--b3:0 0% 88%;--pc:197 11% 85%;--sc:15 16% 86%;--ac:33 52% 12%;--nc:241 3% 84%;--inc:283 32% 14%;--suc:157 22% 14%;--wac:47 40% 13%;--erc:2 100% 93%;--rounded-box:1rem;--rounded-badge:1.9rem;--animation-btn:.25s;--animation-input:.2s;--btn-text-case:uppercase;--btn-focus-scale:.95;--border-btn:1px;--tab-border:1px;--tab-radius:.5rem;--s:15 25% 34%;--a:37 90% 51%;--n:240 7% 27%;--b2:0 0% 95%;--b1:0 0% 99%;--in:282 80% 63%;--su:160 73% 68%;--wa:50 91% 60%;--er:351 79% 57%;--bc:0 0% 20%;--rounded-btn:1.9rem}@media (prefers-color-scheme:dark){:root{--p:177 52% 59%;--pf:177 52% 52%;--sf:15 25% 27%;--af:37 90% 44%;--nf:240 7% 20%;--b3:0 0% 3%;--pc:176 22% 13%;--sc:15 16% 86%;--ac:33 52% 12%;--nc:241 3% 84%;--inc:283 32% 14%;--suc:157 22% 14%;--wac:47 40% 13%;--erc:2 100% 93%;--rounded-box:1rem;--rounded-badge:1.9rem;--animation-btn:.25s;--animation-input:.2s;--btn-text-case:uppercase;--btn-focus-scale:.95;--border-btn:1px;--tab-border:1px;--tab-radius:.5rem;--s:15 25% 34%;--a:37 90% 51%;--n:240 7% 27%;--b1:240 3% 11%;--b2:0 0% 10%;--in:282 80% 63%;--su:160 73% 68%;--wa:50 91% 60%;--er:351 79% 57%;--bc:240 24% 96%;--rounded-btn:1.9rem}}html{font-family:Nunito Sans,Helvetica Neue,Roboto,Lato,sans-serif}h1{font-family:Syne,Nunito Sans,Helvetica Neue,Roboto,Lato,sans-serif}h2{font-family:Syne,Nunito Sans,Helvetica Neue,Roboto,Lato,sans-serif;font-size:2rem}.hoveranimation{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.hoveranimation:hover{--tw-translate-y:-.25rem;--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.badge{display:inline-flex;align-items:center;justify-content:center;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;height:1.25rem;font-size:.875rem;line-height:1.25rem;width:-moz-fit-content;width:fit-content;padding-left:.563rem;padding-right:.563rem;border-width:1px;--tw-border-opacity:1;border-color:hsl(var(--b2) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));border-radius:var(--rounded-badge,1.9rem)}@media (hover:hover){.menu li>:not(ul):not(.menu-title):not(details):active{--tw-bg-opacity:1;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--nc) / var(--tw-text-opacity))}}.btn{display:inline-flex;flex-shrink:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-wrap:wrap;align-items:center;justify-content:center;border-color:transparent;border-color:hsl(var(--b2) / var(--tw-border-opacity));text-align:center;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-radius:var(--rounded-btn,.5rem);height:3rem;padding-left:1rem;padding-right:1rem;min-height:3rem;font-size:.875rem;line-height:1em;gap:.5rem;font-weight:600;text-decoration-line:none;border-width:var(--border-btn,1px);animation:button-pop var(--animation-btn,.25s) ease-out;text-transform:var(--btn-text-case,uppercase);--tw-border-opacity:1;--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline-color:hsl(var(--bc) / 1)}.btn:disabled{pointer-events:none}@media (hover:hover){.btn:hover{--tw-border-opacity:1;border-color:hsl(var(--b3) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b3) / var(--tw-bg-opacity))}.btn-ghost:hover{--tw-border-opacity:0;background-color:hsl(var(--bc) / var(--tw-bg-opacity));--tw-bg-opacity:.2}.btn:disabled:hover{--tw-border-opacity:0;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-bg-opacity:.2;color:hsl(var(--bc) / var(--tw-text-opacity));--tw-text-opacity:.2}:where(.menu li:not(.menu-title):not(.disabled) > :not(ul):not(details):not(.menu-title)):not(.active):hover{cursor:pointer;background-color:hsl(var(--bc) / .1);--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px}}.menu{display:flex;flex-direction:column;flex-wrap:wrap;font-size:.875rem;line-height:1.25rem;padding:.5rem}.menu :where(li:not(.menu-title) > :not(ul):not(details):not(.menu-title)){display:grid;grid-auto-flow:column;align-content:flex-start;align-items:center;gap:.5rem;grid-auto-columns:minmax(auto,max-content) auto max-content;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where(.menu li){position:relative;display:flex;flex-shrink:0;flex-direction:column;flex-wrap:wrap;align-items:stretch}.modal{pointer-events:none;position:fixed;inset:0;margin:0;display:grid;height:100%;max-height:none;width:100%;max-width:none;justify-items:center;padding:0;opacity:0;overscroll-behavior:contain;z-index:999;background-color:transparent;color:inherit;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);transition-property:transform,opacity,visibility;overflow-y:hidden}:where(.modal){align-items:center}.modal-box{max-height:calc(100vh - 5em);grid-column-start:1;grid-row-start:1;width:91.666667%;max-width:32rem;--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));padding:1.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem);border-bottom-left-radius:var(--rounded-box,1rem);border-bottom-right-radius:var(--rounded-box,1rem);box-shadow:#00000040 0 25px 50px -12px;overflow-y:auto;overscroll-behavior:contain}.modal-toggle:checked+.modal,.modal:target{pointer-events:auto;visibility:visible;opacity:1}.modal-toggle{position:fixed;height:0;width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0}:root:has(:is(.modal-open,.modal:target,.modal-toggle:checked + .modal,.modal[open])){overflow:hidden}.navbar{display:flex;align-items:center;padding:var(--navbar-padding,.5rem);min-height:4rem;width:100%}:where(.navbar > *){display:inline-flex;align-items:center}.navbar-start{width:50%;justify-content:flex-start}.navbar-end{width:50%;justify-content:flex-end}.select{display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:3rem;padding-left:1rem;padding-right:2.5rem;font-size:.875rem;line-height:1.25rem;line-height:2;min-height:3rem;border-width:1px;border-color:hsl(var(--bc) / var(--tw-border-opacity));--tw-border-opacity:0;--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));font-weight:600;border-radius:var(--rounded-btn,.5rem);background-image:linear-gradient(45deg,transparent 50%,currentColor 50%),linear-gradient(135deg,currentColor 50%,transparent 50%);background-position:calc(100% - 20px) calc(1px + 50%),calc(100% - 16px) calc(1px + 50%);background-size:4px 4px,4px 4px;background-repeat:no-repeat}.badge-secondary{--tw-border-opacity:1;border-color:hsl(var(--s) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--s) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--sc) / var(--tw-text-opacity))}.btn:active:focus,.btn:active:hover{animation:button-pop 0s ease-out;transform:scale(var(--btn-focus-scale,.97))}.btn:focus-visible{outline-style:solid;outline-width:2px;outline-offset:2px}.btn-ghost{border-width:1px;border-color:transparent;background-color:transparent;color:currentColor;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);outline-color:currentColor}.btn:disabled{--tw-border-opacity:0;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-bg-opacity:.2;color:hsl(var(--bc) / var(--tw-text-opacity));--tw-text-opacity:.2}@keyframes button-pop{0%{transform:scale(var(--btn-focus-scale,.98))}40%{transform:scale(1.02)}to{transform:scale(1)}}:where(.menu li:empty){background-color:hsl(var(--bc) / .1);margin:.5rem 1rem;height:1px}.menu :where(li:not(.menu-title) > :not(ul):not(details):not(.menu-title)){padding:.5rem 1rem;text-align:left;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);transition-duration:.2s;border-radius:var(--rounded-btn,.5rem);text-wrap:balance}:where(.menu li:not(.menu-title):not(.disabled) > :not(ul):not(details):not(.menu-title)):not(summary):not(.active):focus{cursor:pointer;background-color:hsl(var(--bc) / .1);--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px}.menu li>:not(ul):not(.menu-title):not(details):active{--tw-bg-opacity:1;background-color:hsl(var(--n) / var(--tw-bg-opacity));--tw-text-opacity:1;color:hsl(var(--nc) / var(--tw-text-opacity))}.modal::backdrop,.modal:not(dialog:not(.modal-open)){background-color:#0000004d;animation:modal-pop .2s ease-out}.modal-toggle:checked+.modal .modal-box,.modal:target .modal-box{--tw-translate-y:0px;--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes modal-pop{0%{opacity:0}}.select-bordered{--tw-border-opacity:.2}.select:focus{outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:hsl(var(--bc) / .2)}.select-secondary{--tw-border-opacity:1;border-color:hsl(var(--s) / var(--tw-border-opacity))}.select-secondary:focus{outline-color:hsl(var(--s) / 1)}.select:disabled{cursor:not-allowed;--tw-border-opacity:1;border-color:hsl(var(--b2) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity));--tw-text-opacity:.2}.select:disabled::-moz-placeholder{color:hsl(var(--bc) / var(--tw-placeholder-opacity));--tw-placeholder-opacity:.2}.select:disabled::placeholder{color:hsl(var(--bc) / var(--tw-placeholder-opacity));--tw-placeholder-opacity:.2}.menu-horizontal{display:inline-flex;flex-direction:row}.modal-bottom{place-items:end}.select-md{height:3rem;padding-left:1rem;padding-right:2.5rem;font-size:.875rem;line-height:1.25rem;line-height:2;min-height:3rem}.modal-bottom :where(.modal-box){width:100%;max-width:none;--tw-translate-y:2.5rem;--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem)}.btn{border-radius:.5rem}.absolute{position:absolute}.relative{position:relative}.bottom-0{bottom:0}.left-0{left:0}.left-1{left:.25rem}.top-0{top:0}.top-\[0\.5rem\]{top:.5rem}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mr-2{margin-right:.5rem}.mt-12{margin-top:3rem}.mt-3{margin-top:.75rem}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:2.5rem}.h-6{height:1.5rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-6{width:1.5rem}.w-80{width:20rem}.w-full{width:100%}.max-w-screen-lg{max-width:1024px}.max-w-xs{max-width:20rem}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.overflow-y-auto{overflow-y:auto}.rounded-full{border-radius:9999px}.bg-base-100{--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity))}.bg-base-200{--tw-bg-opacity:1;background-color:hsl(var(--b2) / var(--tw-bg-opacity))}.stroke-current{stroke:currentColor}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-4{padding:1rem}.p-5{padding:1.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.uppercase{text-transform:uppercase}.normal-case{text-transform:none}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.text-accent{--tw-text-opacity:1;color:hsl(var(--a) / var(--tw-text-opacity))}.text-base-content{--tw-text-opacity:1;color:hsl(var(--bc) / var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-primary{--tw-text-opacity:1;color:hsl(var(--p) / var(--tw-text-opacity))}.underline{text-decoration-line:underline}@media (min-width:640px){.sm\:modal-middle{place-items:center}.sm\:modal-middle :where(.modal-box){width:91.666667%;max-width:32rem;--tw-translate-y:0px;--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-top-left-radius:var(--rounded-box,1rem);border-top-right-radius:var(--rounded-box,1rem);border-bottom-left-radius:var(--rounded-box,1rem);border-bottom-right-radius:var(--rounded-box,1rem)}}.hover\:text-accent:hover{--tw-text-opacity:1;color:hsl(var(--a) / var(--tw-text-opacity))}@media (min-width:768px){.md\:mb-0{margin-bottom:0}.md\:text-2xl{font-size:1.5rem;line-height:2rem}}@media (min-width:1024px){.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:px-0{padding-left:0;padding-right:0}.lg\:text-3xl{font-size:1.875rem;line-height:2.25rem}}@font-face{font-family:Syne;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/syne-greek-400-normal.367cc5e5.woff2) format("woff2"),url(/_astro/syne-greek-400-normal.921d033b.woff) format("woff");unicode-range:U+0370-03FF}@font-face{font-family:Syne;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/syne-latin-ext-400-normal.8a540c73.woff2) format("woff2"),url(/_astro/syne-latin-ext-400-normal.f08f6030.woff) format("woff");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Syne;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/syne-latin-400-normal.e751716c.woff2) format("woff2"),url(/_astro/syne-latin-400-normal.ee8feac2.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/nunito-cyrillic-ext-400-normal.29a4d00e.woff2) format("woff2"),url(/_astro/nunito-cyrillic-ext-400-normal.1d745188.woff) format("woff");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/nunito-cyrillic-400-normal.ce5142e3.woff2) format("woff2"),url(/_astro/nunito-cyrillic-400-normal.97bcb68f.woff) format("woff");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/nunito-vietnamese-400-normal.7ed3b3e7.woff2) format("woff2"),url(/_astro/nunito-vietnamese-400-normal.75527a88.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/nunito-latin-ext-400-normal.a8aed46d.woff2) format("woff2"),url(/_astro/nunito-latin-ext-400-normal.2ab34252.woff) format("woff");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/nunito-latin-400-normal.5e2f97ea.woff2) format("woff2"),url(/_astro/nunito-latin-400-normal.a83a13e0.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><link href=/_astro/blog.c05f4ffa.css rel=stylesheet media=print onload="this.media=&#34;all&#34;"><noscript><link href=/_astro/blog.c05f4ffa.css rel=stylesheet></noscript><link href=/_astro/dnf5-step-by-step.a58b479f.css rel=stylesheet media=print onload="this.media=&#34;all&#34;"><noscript><link href=/_astro/dnf5-step-by-step.a58b479f.css rel=stylesheet></noscript><script src=/_astro/hoisted.1c23b0f9.js type=module></script><script src=/_astro/page.30c903a1.js type=module></script></head><body><main><div class="bg-base-200 navbar"><div class=navbar-start><label class="lg:hidden btn btn-ghost" for=my-modal-6><svg class="h-6 inline-block stroke-current w-6" viewBox="0 0 24 24" fill=none xmlns=http://www.w3.org/2000/svg><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg></label><a href=/ rel=prefetch class="text-xl hoveranimation btn btn-ghost lg:text-3xl normal-case"><h2 class="font-bold text-primary">Corentin GS</h2></a></div><div class="text-xl hidden items-center lg:flex navbar-end"><ul class="menu menu-horizontal p-0"><li class=px-3><select class="w-full bg-base-200 max-w-xs select select-bordered select-md select-secondary text-base-content" data-choose-theme><option selected=selected disabled=disabled>Pick your theme</option><option value=light>light</option><option value=dark>dark</option><option value=dracula>dracula</option><option value=memnix>memnix</option><option value=luxury>luxury</option><option value=cyberpunk>cyberpunk</option></select></li><li class=my-auto><a href=/blog rel="nofollow prefetch" class="text-xl hoveranimation hover:text-accent">Blog</a></li><li class=my-auto><a href=/links rel="nofollow prefetch" class="text-xl hoveranimation hover:text-accent">Contact</a></li></ul></div></div><div class="w-full relative bg-base-100 min-h-screen p-5"><div class="hoveranimation absolute hidden left-1 lg:block top-[0.5rem] z-10"><a href=/blog rel=prefetch class="text-xl btn btn-ghost lg:text-3xl md:text-2xl"><svg class="h-10 w-10" viewBox="0 0 24 24" astro-icon=lucide:arrow-left><path d="m12 19-7-7 7-7m7 7H5" stroke-linecap=round stroke-linejoin=round stroke-width=2 fill=none stroke=currentColor /></svg></a></div><div class="w-full relative max-w-screen-lg mb-4 md:mb-0 mx-auto text-black" style=height:24em><img alt="Simple Function vs Goroutines" aspectratio=1.7777777777777777 class="w-full absolute h-full left-0 object-cover top-0 z-0" decoding=async height=1024 loading=eager src="https://images.unsplash.com/photo-1622547748225-3fc4abd2cca0?ixlib=rb-4.0.3&#38;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&#38;auto=format&#38;fit=crop&#38;w=1632&#38;q=70" width=1024><div class="absolute left-0 bottom-0 p-4 z-20"><span class="items-center badge badge-secondary inline-flex justify-center mb-2 px-4 py-1 uppercase">Programming</span><h1 class="leading-tight text-4xl">Simple Function vs Goroutines</h1><div class="flex mt-3"><img alt="Corentin Giaufer Saubert" aspectratio=1/1 class="h-10 w-10 mr-2 object-cover rounded-full" decoding=async height=32 loading=eager src=/_astro/avatar.ab91b8c2_Z1L0Ey9.avif width=32><div><div class="flex flex-col"><span>Corentin Giaufer Saubert</span><span>Jan. 12, 2023 10 min</span></div></div></div></div></div><div class="px-4 leading-relaxed lg:px-0 max-w-screen-lg mt-12 mx-auto text-lg"><h2 id=goroutine-vs-simple-function>Goroutine vs Simple function</h2><p>This is a simple example of why goroutines might be <strong>overkill</strong> for some tasks and less efficient than a simple function.</p><br><h2 id=structures>Structures</h2><p>We got a simple structure that contains sensitive information that we dont want to be exposed to the outside world. Therefore, we created a second structure that hides the sensitive information and only exposes the information we want to be public.</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6272a4>// Pineapple is a struct that represents a database object with sensitive data that should be hidden</span></span>
<span class=line><span style=color:#ff79c6>type</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd;font-style:italic>Pineapple</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>struct</span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>	Paro       </span><span style=color:#8be9fd;font-style:italic>string</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>`</span><span style=color:#f1fa8c>faker:&quot;name&quot;</span><span style=color:#e9f284>`</span></span>
<span class=line><span style=color:#f8f8f2>	Turkey     </span><span style=color:#8be9fd;font-style:italic>string</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>`</span><span style=color:#f1fa8c>faker:&quot;name&quot;</span><span style=color:#e9f284>`</span></span>
<span class=line><span style=color:#f8f8f2>	Banana     </span><span style=color:#8be9fd;font-style:italic>string</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>`</span><span style=color:#f1fa8c>faker:&quot;name&quot;</span><span style=color:#e9f284>`</span></span>
<span class=line><span style=color:#f8f8f2>	Age        </span><span style=color:#8be9fd;font-style:italic>int</span><span style=color:#f8f8f2>    </span><span style=color:#e9f284>`</span><span style=color:#f1fa8c>faker:&quot;number&quot;</span><span style=color:#e9f284>`</span></span>
<span class=line><span style=color:#f8f8f2>	Size       </span><span style=color:#8be9fd;font-style:italic>int</span><span style=color:#f8f8f2>    </span><span style=color:#e9f284>`</span><span style=color:#f1fa8c>faker:&quot;number&quot;</span><span style=color:#e9f284>`</span></span>
<span class=line><span style=color:#f8f8f2>	IsAlive    </span><span style=color:#8be9fd;font-style:italic>bool</span></span>
<span class=line><span style=color:#f8f8f2>	ID         </span><span style=color:#8be9fd;font-style:italic>uint</span></span>
<span class=line><span style=color:#f8f8f2>	SecretCode []</span><span style=color:#8be9fd;font-style:italic>byte</span></span>
<span class=line><span style=color:#f8f8f2>	Created    time.Time</span></span>
<span class=line><span style=color:#f8f8f2>	Updated    time.Time</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4>// SafePineApple is a struct that represents a Pineapple object without sensitive data</span></span>
<span class=line><span style=color:#ff79c6>type</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd;font-style:italic>SafePineApple</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>struct</span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>    Paro    </span><span style=color:#8be9fd;font-style:italic>string</span></span>
<span class=line><span style=color:#f8f8f2>    Turkey  </span><span style=color:#8be9fd;font-style:italic>string</span></span>
<span class=line><span style=color:#f8f8f2>    Banana  </span><span style=color:#8be9fd;font-style:italic>string</span></span>
<span class=line><span style=color:#f8f8f2>    IsAlive </span><span style=color:#8be9fd;font-style:italic>bool</span></span>
<span class=line><span style=color:#f8f8f2>    Age     </span><span style=color:#8be9fd;font-style:italic>int</span></span>
<span class=line><span style=color:#f8f8f2>    ID      </span><span style=color:#8be9fd;font-style:italic>uint</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><h2 id=conversion>Conversion</h2><p>We need to convert our Pineapple object to a SafePineApple object. We can do this by creating a method on the Pineapple struct that returns a SafePineApple object.</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6272a4>// ToSafePineApple converts a Pineapple object to a SafePineApple object</span></span>
<span class=line><span style=color:#ff79c6>func</span><span style=color:#f8f8f2> (p </span><span style=color:#ff79c6>*</span><span style=color:#f8f8f2>Pineapple) </span><span style=color:#50fa7b>ToSafePineApple</span><span style=color:#f8f8f2>() SafePineApple {</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> SafePineApple{</span></span>
<span class=line><span style=color:#f8f8f2>		Paro:    p.Paro,</span></span>
<span class=line><span style=color:#f8f8f2>		Turkey:  p.Turkey,</span></span>
<span class=line><span style=color:#f8f8f2>		Banana:  p.Banana,</span></span>
<span class=line><span style=color:#f8f8f2>		IsAlive: p.IsAlive,</span></span>
<span class=line><span style=color:#f8f8f2>		Age:     p.Age,</span></span>
<span class=line><span style=color:#f8f8f2>		ID:      p.ID,</span></span>
<span class=line><span style=color:#f8f8f2>	}</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><h2 id=use-case>Use case</h2><p>In our use case we have an <strong>array of Pineapple objects</strong> coming from our database that we want to convert to <strong>SafePineApple objects</strong> and store them in a <strong>new array</strong>. The <strong>order of the objects</strong> in the array should be the same as the original array as it has already been sorted by a sql query.</p><br><h2 id=simple-function>Simple function</h2><p>We can do this by creating a simple function that takes an array of Pineapple objects and returns an array of SafePineApple objects.</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6272a4>// SimpleConvertPineApplesToSafety converts an array of Pineapple objects to an array of SafePineApple objects</span></span>
<span class=line><span style=color:#ff79c6>func</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>SimpleConvertPineApplesToSafety</span><span style=color:#f8f8f2>(pineapples []Pineapple) []SafePineApple {</span></span>
<span class=line><span style=color:#f8f8f2>	safePineApples </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>make</span><span style=color:#f8f8f2>([]SafePineApple, </span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples))</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> idx, pineapple </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> pineapples {</span></span>
<span class=line><span style=color:#f8f8f2>		safePineApples[idx] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pineapple.</span><span style=color:#8be9fd>ToSafePineApple</span><span style=color:#f8f8f2>()</span></span>
<span class=line><span style=color:#f8f8f2>	}</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> safePineApples</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><p>This function is very <strong>simple</strong> and <strong>easy to understand</strong>. We loop through the array of Pineapple objects and convert them to SafePineApple objects.</p><br><h2 id=goroutine-without-mutex>Goroutine without mutex</h2><p>We can do this by using <strong>goroutines</strong> to work on the array concurrently and store the results in a new array.</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>func</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>GoroutinesNoMutexConvertPineApplesToSafety</span><span style=color:#f8f8f2>(pineapples []Pineapple) []SafePineApple {</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Create a slice to store the SafePineApples</span></span>
<span class=line><span style=color:#f8f8f2>	safePineApples </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>make</span><span style=color:#f8f8f2>([]SafePineApple, </span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>, </span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples))</span></span>
<span class=line><span style=color:#f8f8f2>	safePineApples2 </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>make</span><span style=color:#f8f8f2>([]SafePineApple, </span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>)</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>var</span><span style=color:#f8f8f2> wg sync.WaitGroup </span><span style=color:#6272a4>// Create a WaitGroup to wait for all goroutines to finish</span></span>
<span class=line><span style=color:#f8f8f2>	wg.</span><span style=color:#8be9fd>Add</span><span style=color:#f8f8f2>(</span><span style=color:#bd93f9>1</span><span style=color:#f8f8f2>)            </span><span style=color:#6272a4>// Add 1 to the WaitGroup</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Create a goroutine to convert the first half of the Pineapple objects</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>go</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>func</span><span style=color:#f8f8f2>(chunk []Pineapple) {</span></span>
<span class=line><span style=color:#f8f8f2>		</span><span style=color:#ff79c6>defer</span><span style=color:#f8f8f2> wg.</span><span style=color:#8be9fd>Done</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Decrement the WaitGroup when the goroutine is done</span></span>
<span class=line><span style=color:#f8f8f2>		</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> idx, pineapple </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> chunk { </span><span style=color:#6272a4>// Loop through the chunk of Pineapple objects</span></span>
<span class=line><span style=color:#f8f8f2>			safePineApples[idx] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pineapple.</span><span style=color:#8be9fd>ToSafePineApple</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Convert the Pineapple object to a SafePineApple object</span></span>
<span class=line><span style=color:#f8f8f2>		}</span></span>
<span class=line><span style=color:#f8f8f2>	}(pineapples[:</span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>]) </span><span style=color:#6272a4>// Pass the first half of the Pineapple objects to the goroutine</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Convert the second half of the Pineapple objects in the main thread</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> idx, pineapple </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> pineapples[</span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>:] {</span></span>
<span class=line><span style=color:#f8f8f2>		safePineApples2[idx] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pineapple.</span><span style=color:#8be9fd>ToSafePineApple</span><span style=color:#f8f8f2>()</span></span>
<span class=line><span style=color:#f8f8f2>	}</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Wait for all goroutines to finish</span></span>
<span class=line><span style=color:#f8f8f2>	wg.</span><span style=color:#8be9fd>Wait</span><span style=color:#f8f8f2>()</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Group both pineapples</span></span>
<span class=line><span style=color:#f8f8f2>	safePineApples </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>append</span><span style=color:#f8f8f2>(safePineApples, safePineApples2</span><span style=color:#ff79c6>...</span><span style=color:#f8f8f2>)</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Return the SafePineApples</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> safePineApples</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><p>This function is a bit more <strong>complex</strong> than the simple function. We use a goroutine to convert the first half while the other half is handled by the main thread. We use a <strong>WaitGroup</strong> to wait for the goroutine to finish before returning the results.</p><br><h2 id=goroutine-with-mutex>Goroutine with mutex</h2><p>We can also add <strong>mutexes</strong> to the goroutine to make it <strong>thread safe</strong>.</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>func</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>GoroutinesConvertPineApplesToSafety</span><span style=color:#f8f8f2>(pineapples []Pineapple) []SafePineApple {</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Create a slice to store the SafePineApples</span></span>
<span class=line><span style=color:#f8f8f2>	safePineApples </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>make</span><span style=color:#f8f8f2>([]SafePineApple, </span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples))</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Split the offers into chunks</span></span>
<span class=line><span style=color:#f8f8f2>	chunks </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> [][]Pineapple{pineapples[:</span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>], pineapples[</span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(pineapples)</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>2</span><span style=color:#f8f8f2>:]}</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	mutex </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> sync.Mutex{} </span><span style=color:#6272a4>// Create a mutex to lock the slice when writing to it</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>var</span><span style=color:#f8f8f2> wg sync.WaitGroup </span><span style=color:#6272a4>// Create a WaitGroup to wait for all goroutines to finish</span></span>
<span class=line><span style=color:#f8f8f2>	wg.</span><span style=color:#8be9fd>Add</span><span style=color:#f8f8f2>(</span><span style=color:#bd93f9>1</span><span style=color:#f8f8f2>)           </span><span style=color:#6272a4>// Add 1 to the WaitGroup</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Create a goroutine to convert the first half of the Pineapple objects</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>go</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>func</span><span style=color:#f8f8f2>(chunk []Pineapple) {</span></span>
<span class=line><span style=color:#f8f8f2>		</span><span style=color:#ff79c6>defer</span><span style=color:#f8f8f2> wg.</span><span style=color:#8be9fd>Done</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Decrement the WaitGroup when the goroutine is done</span></span>
<span class=line><span style=color:#f8f8f2>		</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> idx, pineapple </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> chunk { </span><span style=color:#6272a4>// Loop through the chunk of Pineapple objects</span></span>
<span class=line><span style=color:#f8f8f2>			mutex.</span><span style=color:#8be9fd>Lock</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Lock the mutex</span></span>
<span class=line><span style=color:#f8f8f2>			safePineApples[idx] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pineapple.</span><span style=color:#8be9fd>ToSafePineApple</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Convert the Pineapple object to a SafePineApple object</span></span>
<span class=line><span style=color:#f8f8f2>			mutex.</span><span style=color:#8be9fd>Unlock</span><span style=color:#f8f8f2>()  </span><span style=color:#6272a4>// Unlock the mutex</span></span>
<span class=line><span style=color:#f8f8f2>		}</span></span>
<span class=line><span style=color:#f8f8f2>	}(chunks[</span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>]) </span><span style=color:#6272a4>// Pass the first half of the Pineapple objects to the goroutine</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Convert the second half of the Pineapple objects in the main thread</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> idx, pineapple </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> chunks[</span><span style=color:#bd93f9>1</span><span style=color:#f8f8f2>] {</span></span>
<span class=line><span style=color:#f8f8f2>		mutex.</span><span style=color:#8be9fd>Lock</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Lock the mutex</span></span>
<span class=line><span style=color:#f8f8f2>		safePineApples[idx</span><span style=color:#ff79c6>+</span><span style=color:#8be9fd>len</span><span style=color:#f8f8f2>(chunks[</span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>])] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pineapple.</span><span style=color:#8be9fd>ToSafePineApple</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Convert the Pineapple object to a SafePineApple object</span></span>
<span class=line><span style=color:#f8f8f2>		mutex.</span><span style=color:#8be9fd>Unlock</span><span style=color:#f8f8f2>() </span><span style=color:#6272a4>// Unlock the mutex</span></span>
<span class=line><span style=color:#f8f8f2>	}</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#6272a4>// Wait for all goroutines to finish</span></span>
<span class=line><span style=color:#f8f8f2>	wg.</span><span style=color:#8be9fd>Wait</span><span style=color:#f8f8f2>()</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> safePineApples</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><p>This function make use of the mutex to lock the slice when writing to it. This makes sure that the goroutine and the main thread dont write to the same index at the same time but instead wait for the other to finish.</p><br><h2 id=benchmark>Benchmark</h2><p>Now that we have our functions we can benchmark them to see which one is the <strong>fastest.</strong> To benchmark our functions we run them with arrays of different sizes.</p><p>Our benchmark function looks like this:</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>func</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety</span><span style=color:#f8f8f2>(b </span><span style=color:#ff79c6>*</span><span style=color:#f8f8f2>testing.B) {</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> _, n </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>range</span><span style=color:#f8f8f2> []</span><span style=color:#8be9fd;font-style:italic>int</span><span style=color:#f8f8f2>{</span><span style=color:#bd93f9>500</span><span style=color:#f8f8f2>, </span><span style=color:#bd93f9>1000</span><span style=color:#f8f8f2>, </span><span style=color:#bd93f9>2000</span><span style=color:#f8f8f2>, </span><span style=color:#bd93f9>5000</span><span style=color:#f8f8f2>, </span><span style=color:#bd93f9>10000</span><span style=color:#f8f8f2>} {</span></span>
<span class=line><span style=color:#f8f8f2>		b.</span><span style=color:#8be9fd>Run</span><span style=color:#f8f8f2>(fmt.</span><span style=color:#8be9fd>Sprintf</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>&quot;</span><span style=color:#f1fa8c>Benchmark_SimpleConvertPineApplesToSafety-</span><span style=color:#bd93f9>%d</span><span style=color:#e9f284>&quot;</span><span style=color:#f8f8f2>, n), </span><span style=color:#ff79c6>func</span><span style=color:#f8f8f2>(b </span><span style=color:#ff79c6>*</span><span style=color:#f8f8f2>testing.B) {</span></span>
<span class=line><span style=color:#f8f8f2>			pineApples </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>make</span><span style=color:#f8f8f2>([]Pineapple, n)</span></span>
<span class=line><span style=color:#f8f8f2>			</span><span style=color:#ff79c6>var</span><span style=color:#f8f8f2> pine Pineapple</span></span>
<span class=line><span style=color:#f8f8f2>			</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> i </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>; i </span><span style=color:#ff79c6>&lt;</span><span style=color:#f8f8f2> n; i</span><span style=color:#ff79c6>++</span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>				_ </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> faker.</span><span style=color:#8be9fd>FakeData</span><span style=color:#f8f8f2>(</span><span style=color:#ff79c6>&amp;</span><span style=color:#f8f8f2>pine)</span></span>
<span class=line><span style=color:#f8f8f2>				pine.Created </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> time.</span><span style=color:#8be9fd>Now</span><span style=color:#f8f8f2>().</span><span style=color:#8be9fd>AddDate</span><span style=color:#f8f8f2>(</span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>, </span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>, </span><span style=color:#ff79c6>-</span><span style=color:#f8f8f2>i)</span></span>
<span class=line><span style=color:#f8f8f2>				pine.ID </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#8be9fd>uint</span><span style=color:#f8f8f2>(i)</span></span>
<span class=line><span style=color:#f8f8f2>				pine.IsAlive </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>true</span></span>
<span class=line><span style=color:#f8f8f2>				pineApples[i] </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> pine</span></span>
<span class=line><span style=color:#f8f8f2>			}</span></span>
<span class=line><span style=color:#f8f8f2>			</span><span style=color:#ff79c6>for</span><span style=color:#f8f8f2> i </span><span style=color:#ff79c6>:=</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>; i </span><span style=color:#ff79c6>&lt;</span><span style=color:#f8f8f2> b.N; i</span><span style=color:#ff79c6>++</span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>				</span><span style=color:#8be9fd>SimpleConvertPineApplesToSafety</span><span style=color:#f8f8f2>(pineApples)</span></span>
<span class=line><span style=color:#f8f8f2>			}</span></span>
<span class=line><span style=color:#f8f8f2>		})</span></span>
<span class=line><span style=color:#f8f8f2>	}</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><br><p>To run the benchmark we use the following command:</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#50fa7b>go</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c>test</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>-bench=.</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>-benchtime</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>5</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>&gt;</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c>benchmark.txt</span><span style=color:#f8f8f2> &amp;&amp; </span><span style=color:#50fa7b>benchstat</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c>benchmark.txt</span></span></code></pre><br><p>Benchstat is a tool that can be used to compare the results of benchmarks.</p><p>The results of the benchmark are as follows:</p><pre class="astro-code dracula" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#50fa7b>name</span><span style=color:#f8f8f2>                                                                        </span><span style=color:#f1fa8c>time/op</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety-500-32</span><span style=color:#f8f8f2>                          </span><span style=color:#bd93f9>15.8</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety-1000-32</span><span style=color:#f8f8f2>                         </span><span style=color:#bd93f9>32.0</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety-2000-32</span><span style=color:#f8f8f2>                         </span><span style=color:#bd93f9>66.5</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety-5000-32</span><span style=color:#f8f8f2>                          </span><span style=color:#bd93f9>193</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_SimpleConvertPineApplesToSafety-10000-32</span><span style=color:#f8f8f2>                         </span><span style=color:#bd93f9>465</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_GoroutinesConvertPineApplesToSafety-500-32</span><span style=color:#f8f8f2>                      </span><span style=color:#bd93f9>23.5</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_GoroutinesConvertPineApplesToSafety-1000-32</span><span style=color:#f8f8f2>                     </span><span style=color:#bd93f9>46.2</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_GoroutinesConvertPineApplesToSafety-2000-32</span><span style=color:#f8f8f2>                     </span><span style=color:#bd93f9>87.7</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_GoroutinesConvertPineApplesToSafety-5000-32</span><span style=color:#f8f8f2>                      </span><span style=color:#bd93f9>242</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_GoroutinesConvertPineApplesToSafety-10000-32</span><span style=color:#f8f8f2>                     </span><span style=color:#bd93f9>507</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_NoMutexGoroutinesConvertPineApplesToSafety-500-32</span><span style=color:#f8f8f2>               </span><span style=color:#bd93f9>28.3</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_NoMutexGoroutinesConvertPineApplesToSafety-1000-32</span><span style=color:#f8f8f2>              </span><span style=color:#bd93f9>48.7</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_NoMutexGoroutinesConvertPineApplesToSafety-2000-32</span><span style=color:#f8f8f2>               </span><span style=color:#bd93f9>105</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_NoMutexGoroutinesConvertPineApplesToSafety-5000-32</span><span style=color:#f8f8f2>               </span><span style=color:#bd93f9>257</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span>
<span class=line><span style=color:#50fa7b>Benchmark_NoMutexGoroutinesConvertPineApplesToSafety-10000-32</span><span style=color:#f8f8f2>              </span><span style=color:#bd93f9>533</span><span style=color:#f1fa8c>s</span><span style=color:#f8f8f2> </span><span style=color:#f1fa8c></span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f1fa8c>%</span></span></code></pre><br><p>As you can see the <strong>simple function is the fastest</strong>.</p><h2 id=why>Why ?</h2><p>The reason why the simple function is the fastest is that the process of converting the Pineapple objects to SafePineApple objects is very fast. The time it takes to create the goroutines and wait for them to finish is longer than the time it takes to convert the Pineapple objects to SafePineApple objects.</p><br><p>Furthermore, in our goroutines implementation we have to convert the Pineapple objects then lock the mutex, write to the slice and unlock the mutex. This is a lot of <strong>overhead for a very simple task</strong>.</p><br><h2 id=conclusion>Conclusion</h2><p><em>Dont use goroutines when you dont need them.</em> That may seem obvious, but its easy to forget when youre trying to optimize your code. In this example the overhead of creating the goroutines and waiting for them to finish is <strong>longer</strong> than the time it takes to convert the Pineapple objects to SafePineApple objects.</p><p>Goroutines are great for tasks that take a <strong>long time to complete</strong> and can be done in parallel. I would suggest to write the <strong>simplest code possible</strong> and then benchmark it to see if you can improve it using goroutines instead.</p><p>Moreover, simple code is <strong>easier to read and maintain</strong> than complex code, thats why writing complex code might not be necessary if performance is not an issue. <strong>Id prefer to have a simple function that takes a few milliseconds longer to complete than a complex function.</strong></p><br><h2 id=code>Code</h2><p>The code for this article can be found on <a href=https://github.com/CorentinGS/go-teaching/tree/main/goroutines_simple_vs_complex class="font-bold text-accent underline">GitHub</a></p></div></div><input class=modal-toggle id=my-modal-6 type=checkbox><label class="cursor-pointer modal modal-bottom sm:modal-middle" for=my-modal-6><label class="relative modal-box" for><ul class="menu bg-base-100 overflow-y-auto p-4 w-80"><li class=py-3><select class="w-full bg-base-200 max-w-xs select select-bordered select-md select-secondary text-base-content" data-choose-theme><option selected=selected disabled=disabled>Pick your theme</option><option value=light>light</option><option value=dark>dark</option><option value=dracula>dracula</option><option value=memnix>memnix</option><option value=luxury>luxury</option><option value=cyberpunk>cyberpunk</option></select></li><li class=py-3><select class="w-full bg-base-200 max-w-xs select select-bordered select-md select-secondary text-base-content my-select-class" onchange="location=this.value"><option value=/blog/simple-go-vs-goroutines selected=true> English</option><option value=/fr/blog/simple-go-vs-goroutines> Franais</option><option value=/de/blog/simple-go-vs-goroutines> Deutsch</option></select></li><li><a href=/blog rel="nofollow prefetch">Blog</a></li><li><a href=/links rel="nofollow prefetch">Contact</a></li></ul></label></label></main></body></html>